pico-8 cartridge // http://www.pico-8.com
version 35
__lua__
  --player code

counter = 0
function _init()
	map_setup()
	make_player()
	blink_w = 7
end

function _update()
	local fps=stat(8)
	dt = 1/fps
	counter += dt
	move_player()
end


function _draw()
	cls()

	draw_map()
	minutes = counter/60
	if (counter > 60) then
		print(flr(minutes),1+ mapx*8,1+mapy*8,7)
		--print(":",4 + mapx*8,1 + mapy,8)
		if (counter < 10) then
			print(flr(counter),9+mapx*8,1+mapy*8,7)
			end
		print(flr(counter%60),9+mapx*8,1+mapy*8,7)
		print(flr(minutes),1+mapx*8,1+mapy*8,7)
		print(":",6+mapx*8,1+mapy*8,7)
		else
			print(flr(counter),1+mapx*8,1+mapy*8,7)

	end
	if(minutes > 25) then
		rectfill(0,0,127,127,8)
		print("time is up!",44,66,7)
	end
	draw_player()

end


-->8
-- main update and draw
-->8
-- menu scene
-->8
--draws

-->8
 --player code
function make_player()
	p={
	x = 3,
	y = 5,
	sprite = 22,
	up = false,
	down = false,
	flipx = false,
	up = false,
	down = false
}


end

function draw_player()
	 spr(p.sprite,p.x*8,p.y*8,1,1,p.flipx)

end
-- moving the sprite around
function move_player()
	newx = p.x
	newy = p.y
	if (btnp(⬅️)) then
		newx -= 1
		-- shift l
		p.flipx=true
	end
	if (btnp(➡️)) then
		newx += 1
		-- shift r
		p.flipx=false
	end
	if (btnp(⬆️)) then
		newy -= 1
		-- shift u
		p.up = true
	end
	if (btnp(⬇️)) then
		newy += 1
		-- shift d
		p.down = true
		-- letting using key
	end

	interact(newx,newy)

	if (can_move(newx,newy)) then
		p.x = mid(0, newx, 127)
		p.y = mid(0, newy, 63)
		--map boundary
	end
end

-->8
 --map code
function map_setup()
-- tile settings
 wall=0
 stereo=1
 door=2
 anim1=3
 anim2=4
 sound=5
 lose=6
 bed=7
--sprite flags^
end

function draw_map()
	mapx=flr(p.x/16)*16
	mapy=flr(p.y/16)*16
	camera(mapx*8,mapy*8)
	-- with flr we are getting
	--a const cordinate
	--0x0 16x0 32x0

	map(0,0,0,0,128,64)

end

function is_tile(tile_type,x,y)
	tile = mget(x,y)  --what number sprite is at this tile
	has_flag=fget(tile,tile_type) --tels us if that sprite has the sprite flags
	--turned on
	return has_flag
end

function can_move(x,y)
	return not is_tile(wall,x,y)
end

function swap_tile(x,y)
	tile=mget(x,y)
	mset(x,y,tile+1)
	--asks what tile is at x,y
	-- then replaces it with
	-- that tile + 1
	-- remember to replace
	-- or something

end

function interact(x,y)
	if (is_tile(sound,x,y)) then
			get_sound(x,y)
	end
	if (is_tile(bed,x,y))then
			draw_over(x,y) --if you step on the bed then
			--game over, timer stop, go to main menu
	end
end

function draw_over(x,y)
	camera()
	rectfill(0,60,128,75,136)
	print("study session over", 46,62,7)
	print("press btn(x) to restart", 27,68, blink_w)
end


function get_sound(x,y)
	sfx(00)
end


__gfx__
000000000000000000000000000000000000000000000b3000000b3000000b300000000000000000000000000000000000000000000000000000000000000000
0000000000077700000000000000000000000b3000003e33000b3e33000b3e330000000000000000000000000000000000000000000000000000000000000000
007007000077e770000000000003b300000b3e33000b33ff00b333ff00b333ff00bb3b3000000000000000000000000000000000000000000000000000000000
00077000007e6e7000003b3000b3e30000b333ff00b333000b3333000b3993000b333e3300bb3b30000000000000000000000000000000000000000000000000
000770000077e77000bb3e330b333ff00b3333000b3393000339930003300300033933ff0b333e3300bb3b300000000000000000000000000000000000000000
00700700000777000b3333ff0339930003399300033900f0033000300030003000003000033933ff0b333e330000000000000000000000000000000000000000
00000000000000000339930003300f0003300f00030000000300000f0000000f0000030000303000033993ff0000000000000000000000000000000000000000
000000000000000000330f000033000000330000033000000300000000000000000000f000000f0000330f000000000000000000000000000000000000000000
00000000f4fff4ff000000001111111111111111000000000000cc50000000000000000000000000000000000000000000000000000000000000000000000000
00000000444444440000000011111111111111110000000000017770000000000000000000000000000000000000000000000000000000000000000000000000
00000000fff4fff40000000011111111111111110000000000007070000000000000000000000000000000000000000000000000000000000000000000000000
00000000444444440000000011444444411111110000000000009999000000000000000000000000000000000000000000000000000000000000000000000000
00000000f4fff4ff00000000117774777111111100000000000cc800000000000000000000000000000000000000000000000000000000000000000000000000
000000004444444400000000117774777111111100000000077c7515000000000000000000000000000000000000000000000000000000000000000000000000
00000000fff4fff40000000011477477411111110000000000776600000000000000000000000000000000000000000000000000000000000000000000000000
00000000444444440000000011fffffff11111110000000009904440000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000011cccccccc1111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000011ccccccccc111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000114ccccccccc11110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000001141ccccccccc1110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000011411cccccccc1110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000011111411111141110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000011111411111141110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000011111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
22222222000220002222200022222222000222222211111100000022222222222222222222222222000000002000000000000000222222220000000000000000
22222222000220002222200022222222000222222211111100000022222222222222222222222222000000002000000000000000000000000000000000000000
22202220000220000002200000022000000220002211111100000022dddddddd22dddddddddddd22000000002000000000000000000000000000000000000000
00000000000220000002200000022000000220002211111100000022dddddddd22dddddddddddd22000000002000000000000000000000000000000000000000
02220222000220000002200000022000000220002211111100000022dddddddd22dddddddddddd22000000002000000000000000000000000000000000000000
00000000000220000002200000022000000220002211111100000022dddddddd22dddddddddddd22000000002000000000000000000000000000000000000000
00022200000220000002200000022000000220002211111100000022dddddddd22dddddddddddd22000000002000000000000000000000000000000000000000
22000002000220000002200000022000000220002211111100000022dddddddd22dddddddddddd22000000002000000000000000000000000000000000000000
11111111221111111111112200000000222222222222222200000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
11111111221111111111112200000000222222222222222200000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
11111111dd1111111111112200000000dddddddddddddddd00000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
11111111dd1111111111112200000000dddddddddddddddd00000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
11111111dd1111111111112200000000dddddddddddddddd00000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
11111111dd1111111111112200000000dddddddddddddddd00000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
11111111dd1111111111112200000000ddd555555ddddddd00000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
11111111dd111111111111220000000bbdd511115ddddddd00000000000000000000000000000000000000002000000200000000dddddddd0000000000000000
111111220000000000000000000000001b1511115111111100000000400000040000000000000000000000002000000200000000000000000000000000000000
111111220000000000000000000000004b4511115444111100000000006666500000000000000000000000002000000200000000000000000000000000000000
111111dd000000000000000000000000464555555444111100000000060000600000000000000000000000002000000200000000000000000000000000000000
111111dd00000000000000000000000044456d6d5444111100000000060500600000000000000000000000002000000200000000000000000000000000000000
111111dd0000000000000000000000004445d6d65454111100000000060066650000000000000000000000002000000200000000000000000000000000000000
111111dd000000000000000000000000444555555444111100000000060000600000000000000000000000002000000200000000000000000000000000000000
111111dd000000000000000000000000211111111112111100000000056666500000000000000000000000002000000200000000000000000000000000000000
111111dd000000000000000000000000211111111112111100000000400000040000000000000000000000002222222200000000222222220000000000000000
22222222222222220000000000000000200000000002000000000000000000000000000000000000000000000000000200000000000000000000000000000000
22222222222222220000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000
22202222222022200000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000
00000002200000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000
02220222222202220000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000
00000002200000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000
00022202200222000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000
22000002220000020000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000
00000000222222222222222200000000222222222222222222222222222222222222222200000000000000000000000000000000000000000000000000000000
00000000222222222222222200000000222222222222222222222222222222222222222200000000000000000000000000000000000000000000000000000000
00000000dddddddddddddddd00000000ddddddddddddddddddddd555555555dddddddddd00000000000000000000000000000000000000000000000000000000
00000000ddd55555555555dd00000000dddddd3dddddddddddddd566666675dddddddddd00000000000000000000000000000000000000000000000000000000
00000000ddd51111111115dd00000000dddd3d33dd3dddddddddd566666675dddddbd3dd00000000000000000000000000000000000000000000000000000000
00000000ddd51111111115dd00000000ddddd3d3d3d33dddddddd566666665ddddddbddd00000000000000000000000000000000000000000000000000000000
00000000ddd51111111115dd00000000ddddd3d3d3d3ddddddddd566666665ddddd33ddd00000000000000000000000000000000000000000000000000000000
00000000ddd511d1111115dd00000000ddd3d3d33d33dddddd444566666665444444bddd00000000000000000000000000000000000000000000000000000000
00000000111511111111151100000000111333333331111111444555555555457444411100000000000000000000000000000000000000000000000000000000
0000000011151dd111111511000000001111444444411111114445d6d6d6d5477444411100000000000000000000000000000000000000000000000000000000
0000000011151d11111115110000000011111444441111111144455d6d6d55400444411100000000000000000000000000000000000000000000000000000000
00000000111511111111151100000000111114444411111111444444444444444444411100000000000000000000000000000000000000000000000000000000
00000000111511111111151100000000111111444111111111444111111111111144411100000000000000000000000000000000000000000000000000000000
00000000111555555555551100000000111111111111111111444111111111111144411100000000000000000000000000000000000000000000000000000000
00000000111555111115551100000000111111111111111111444111111111111144411100000000000000000000000000000000000000000000000000000000
00000000111555111115551100000000111111111111111111444111111111111144411100000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000010000000000000000000000000000808100000000000000000000000000000000000000000000000000000001000000000001010000000100000000000000000101000000000001000000000000000001010021000000010000000001010000000000000000000100000000
0001010001010001000000000000000000010100000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4fbf7fbfbf7f4f4f7f4f4f7f4f7f4fbfbfbfbfbfbfbfbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bfbf69696969696969696969bfbfbfbfbfbfbfbfbfbfbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bf7b478485868788478182474bbfbfbfbfbfbfbfbf7fbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bf7b509495969798509192505b47474747474bbfbfbfbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bf7b131450505050505050505550505050504bbfbfbfbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bf7b232450505050505050505050505050504bbfbfbfbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bf7b404040705050506750505050505050504747474bbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bfbfbfbfbf7b5050505050505050505050505050504bbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bfbfbfbfbf7b5050505050505050505050505050504bbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bfbfbfbfbf7b4040404040705050505050505050504bbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bfbfbfbfbfbfbfbfbfbfbf7b5050505050505050504bbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
61616161616161616161bf7b5050505050505050504bbfbf6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
616161616161616161616e7b5050505050505050504b6e6e6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
616161616161616161616e7b4040404040404040404b6e6e6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
616161616161616161616e6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
61616161616161617f617f7f6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
616161616161616161616e6e6e6e6e7f6e6e6e6e6e6e6e6e6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
61616161616161617f7f6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
616161616161616161616e6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000006e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0214180008043100501091010050100501091010815100501002310910101151002310033100501091010050100501091010815100501003310910109100c0231300012000100001000013000120000000000000
291118000da440da310da210da110da1523c250da2500b0020b1500b0001a6501a650cb0000b0001a4523c1523b1500b0006a4406a3106a2106a1106a1506a350cb0300b0000b0000b000cb0000b0000b0000b00
091100001b5141b515030002701503900279251b9151c9152392503900039001c9241e9211e9201e9250390003900199141b9111b9101b9150390003900270150390003900039000390003900039000390003900
03111e0024e1506905019050690124e150690501905069010690106905019050690124e1506905019050690106901069050190506901069010690501905069010690106905019050690106901069050190500900
010f00002e7502c7502e7522e750297502f7522f7502f7522d750297522575222750217502175221750237502575027750297502b7502c7502c7502c7502c7522c7522b750297502875227752287502a7502d750
011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
00 40014244
03 05060708
